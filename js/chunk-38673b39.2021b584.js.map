{"version":3,"sources":["webpack:///./src/components/DatasetLoader.vue?4db9","webpack:///src/components/DatasetLoader.vue","webpack:///./src/components/DatasetLoader.vue?aaeb","webpack:///./src/components/DatasetLoader.vue?db3e","webpack:///./src/components/DatasetLoader.vue?d067","webpack:///./src/components/DatasetLoader.vue?ffda"],"names":["render","_vm","this","_h","$createElement","_c","_self","component","staticClass","domProps","_s","title","_e","description","ref","attrs","on","selectLocalFile","model","value","callback","$$v","localFile","expression","_v","remoteFile","selectRemoteFile","index","input_ref","length","loading","$event","$set","staticRenderFns","name","components","mixins","mixin","data","serializable","fileName","importData","methods","loadFileContent","output","content","trim","event","MouseEvent","$refs","$el","children","click","target","files","file","reader","onload","readAsText","status","error","result","axios"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAAEJ,EAAIM,UAAe,MAAEF,EAAG,KAAK,CAACG,YAAY,aAAaC,SAAS,CAAC,UAAYR,EAAIS,GAAGT,EAAIM,UAAUI,UAAUV,EAAIW,KAAMX,EAAIM,UAAqB,YAAEF,EAAG,cAAc,CAACI,SAAS,CAAC,UAAYR,EAAIS,GAAGT,EAAIM,UAAUM,gBAAgBZ,EAAIW,KAAKP,EAAG,gBAAgB,CAACG,YAAY,QAAQ,CAACH,EAAG,cAAc,CAACS,IAAI,oBAAoBN,YAAY,gBAAgBO,MAAM,CAAC,YAAc,0BAA0B,WAAU,GAAMC,GAAG,CAAC,OAASf,EAAIgB,iBAAiBC,MAAM,CAACC,MAAOlB,EAAa,UAAEmB,SAAS,SAAUC,GAAMpB,EAAIqB,UAAUD,GAAKE,WAAW,eAAelB,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACG,YAAY,gBAAgBQ,GAAG,CAAC,MAAQf,EAAIgB,kBAAkB,CAAChB,EAAIuB,GAAG,wBAAwB,IAAI,GAAGnB,EAAG,gBAAgB,CAACG,YAAY,QAAQ,CAACH,EAAG,eAAe,CAACU,MAAM,CAAC,YAAc,kCAAkCG,MAAM,CAACC,MAAOlB,EAAc,WAAEmB,SAAS,SAAUC,GAAMpB,EAAIwB,WAAWJ,GAAKE,WAAW,gBAAgBlB,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACG,YAAY,gBAAgBQ,GAAG,CAAC,MAAQf,EAAIyB,mBAAmB,CAACzB,EAAIuB,GAAG,yBAAyB,IAAI,GAAGnB,EAAG,gBAAgB,CAACU,MAAM,CAAC,MAAQd,EAAIM,UAAUoB,MAAM,UAAY1B,EAAIM,UAAUqB,UAAU,OAAS3B,EAAI4B,OAAO,QAAU5B,EAAI6B,SAASd,GAAG,CAAC,eAAe,SAASe,GAAQ,OAAO9B,EAAI+B,KAAK/B,EAAIM,UAAW,QAASwB,IAAS,gBAAgB,SAASA,GAAQ9B,EAAI4B,OAAOE,GAAQ,iBAAiB,SAASA,GAAQ9B,EAAI6B,QAAQC,OAAY,IAC58CE,EAAkB,G,6ECoCtB,wCAEA,GACEC,KAAM,gBACNC,WAAY,CAAd,sBACEC,OAAQ,CAACC,EAAX,MACEC,KAJF,WAKI,IAAJ,GACMC,aAAc,CAAC,YAAa,aAAc,YAC1CjB,UAAW,KACXG,WAAY,KACZe,SAAU,IAEZ,OAAOtC,KAAKuC,WAAWH,IAEzBI,QAAS,CACPC,gBADJ,SACA,GACMzC,KAAK0C,OAASC,EAAQC,OACtB5C,KAAK4B,SAAU,GAEjBb,gBALJ,SAKA,cACM,GAAI8B,aAAiBC,WACnB9C,KAAK+C,MAAM,qBAAqBC,IAAIC,SAAS,GAAGC,aACxD,uBACQ,GAAIL,EAAMM,OAAOC,MAAMzB,OAAQ,CAC7B3B,KAAK4B,SAAU,EACf,IAAV,oBACA,iBACU5B,KAAKsC,SAAWe,EAAKrB,KACrBsB,EAAOC,OAAS,SAA1B,uCACUD,EAAOE,WAAWH,SAE5B,yBACQrD,KAAKyC,gBAAgB,CACnBgB,OAAwB,OAAhBZ,EAAMa,MAAiB,KAAO,EACtCtB,KAAMS,EAAMc,UAIlBnC,iBAxBJ,WAwBA,WACA,OACMxB,KAAK4B,SAAU,EACf5B,KAAK4D,MACX,qBACA,kBACQ,EAAR,EACQ,EAAR,+BAEA,mBACA,sBACU,EAAV,KACU,EAAV,MACA,oBACA,kBACY,EAAZ,EACY,EAAZ,+BAEA,mBACY,EAAZ,EACY,EAAZ,+BAEA,oBACA,UACc,EAAd,oCACc,EAAd,kCAIU,EAAV,EACU,EAAV,gCAGA,oBACA,UACU,EAAV,oCACU,EAAV,mCChHuV,I,mCCSnVvD,EAAY,eACd,EACAP,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAA1B,E,4CCpBf,yBAA4e,EAAG,G,yDCA/e,yBAAod,EAAG,G","file":"js/chunk-38673b39.2021b584.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',[(_vm.component.title)?_c('h4',{staticClass:\"card-title\",domProps:{\"innerHTML\":_vm._s(_vm.component.title)}}):_vm._e(),(_vm.component.description)?_c('b-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.component.description)}}):_vm._e(),_c('b-input-group',{staticClass:\"mb-2\"},[_c('b-form-file',{ref:\"select-local-file\",staticClass:\"select-button\",attrs:{\"placeholder\":\"Choose a data source...\",\"no-drop\":true},on:{\"change\":_vm.selectLocalFile},model:{value:(_vm.localFile),callback:function ($$v) {_vm.localFile=$$v},expression:\"localFile\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"select-button\",on:{\"click\":_vm.selectLocalFile}},[_vm._v(\"Select local file\")])],1)],1),_c('b-input-group',{staticClass:\"mb-2\"},[_c('b-form-input',{attrs:{\"placeholder\":\"Choose a remote web address...\"},model:{value:(_vm.remoteFile),callback:function ($$v) {_vm.remoteFile=$$v},expression:\"remoteFile\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"select-button\",on:{\"click\":_vm.selectRemoteFile}},[_vm._v(\"Select remote file\")])],1)],1),_c('ToolbarFooter',{attrs:{\"index\":_vm.component.index,\"input_ref\":_vm.component.input_ref,\"length\":_vm.length,\"loading\":_vm.loading},on:{\"update:index\":function($event){return _vm.$set(_vm.component, \"index\", $event)},\"update:length\":function($event){_vm.length=$event},\"update:loading\":function($event){_vm.loading=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form-group>\n    <h4 v-if=\"component.title\" class=\"card-title\" v-html=\"component.title\"></h4>\n    <b-card-text v-if=\"component.description\" v-html=\"component.description\"></b-card-text>\n    <b-input-group class=\"mb-2\">\n      <b-form-file\n        v-model=\"localFile\"\n        ref=\"select-local-file\"\n        class=\"select-button\"\n        placeholder=\"Choose a data source...\"\n        :no-drop=\"true\"\n        @change=\"selectLocalFile\"\n      ></b-form-file>\n      <b-input-group-append>\n        <b-button class=\"select-button\" @click=\"selectLocalFile\">Select local file</b-button>\n      </b-input-group-append>\n    </b-input-group>\n\n    <b-input-group class=\"mb-2\">\n      <b-form-input v-model=\"remoteFile\" placeholder=\"Choose a remote web address...\"></b-form-input>\n      <b-input-group-append>\n        <b-button class=\"select-button\" @click=\"selectRemoteFile\">Select remote file</b-button>\n      </b-input-group-append>\n    </b-input-group>\n    <ToolbarFooter\n      :index.sync=\"component.index\"\n      :input_ref=\"component.input_ref\"\n      :length.sync=\"length\"\n      :loading.sync=\"loading\"\n    />\n  </b-form-group>\n</template>\n\n<script>\nimport ToolbarFooter from './ToolbarFooter.vue'\nimport { mixin } from './mixin'\nimport path from 'path'\nconst cors = process.env.VUE_APP_CORS_API\n\nexport default {\n  name: 'DatasetLoader',\n  components: { ToolbarFooter },\n  mixins: [mixin],\n  data() {\n    let data = {\n      serializable: ['localFile', 'remoteFile', 'filename'],\n      localFile: null,\n      remoteFile: null,\n      fileName: ''\n    }\n    return this.importData(data)\n  },\n  methods: {\n    loadFileContent(content) {\n      this.output = content.trim()\n      this.loading = false\n    },\n    selectLocalFile(event) {\n      if (event instanceof MouseEvent) {\n        this.$refs['select-local-file'].$el.children[0].click()\n      } else if (event instanceof Event) {\n        if (event.target.files.length) {\n          this.loading = true\n          let file = event.target.files[0]\n          let reader = new FileReader()\n          this.fileName = file.name\n          reader.onload = e => this.selectLocalFile(e.target)\n          reader.readAsText(file)\n        }\n      } else if (event instanceof FileReader) {\n        this.loadFileContent({\n          status: event.error === null ? 200 : -1,\n          data: event.result\n        })\n      }\n    },\n    selectRemoteFile() {\n      let content = null\n      this.loading = true\n      this.axios\n        .get(this.remoteFile)\n        .then(response => {\n          content = response\n          content.response = response.request.response\n        })\n        .catch(response => {\n          if (response.request.status === 0) {\n            content = null\n            this.axios\n              .get(cors + this.remoteFile)\n              .then(response => {\n                content = response\n                content.response = response.request.response\n              })\n              .catch(response => {\n                content = response\n                content.response = response.request.response\n              })\n              .finally(() => {\n                if (content != null) {\n                  this.fileName = path.basename(content.config.url)\n                  this.loadFileContent(content.response)\n                }\n              })\n          } else {\n            content = response\n            content.response = response.request.response\n          }\n        })\n        .finally(() => {\n          if (content != null) {\n            this.fileName = path.basename(content.config.url)\n            this.loadFileContent(content.response)\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style>\nlabel.custom-file-label::after {\n  display: none;\n}\n</style>\n<style scoped>\n.select-button {\n  width: 200px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DatasetLoader.vue?vue&type=template&id=70240acb&scoped=true&\"\nimport script from \"./DatasetLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./DatasetLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DatasetLoader.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./DatasetLoader.vue?vue&type=style&index=1&id=70240acb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70240acb\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=1&id=70240acb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=1&id=70240acb&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetLoader.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}