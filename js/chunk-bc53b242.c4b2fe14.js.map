{"version":3,"sources":["webpack:///./src/components/TSModel.vue?c8c1","webpack:///./src/components/TSModel.vue?6679","webpack:///./src/components/TSModel.vue","webpack:///./node_modules/@tensorflow/tfjs-layers/dist/keras_format/utils.js","webpack:///./node_modules/@tensorflow/tfjs-layers/dist/keras_format/activation_config.js","webpack:///src/components/TSModel.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","component","staticClass","domProps","_s","title","_e","description","attrs","plugActionDisabled","on","plugAction","trashActionDisabled","trashAction","imageActionDisabled","$event","$bvModal","show","index","onToggleToolbar","toggleIcon","_v","indexMax","editActionDisabled","model","value","callback","$$v","indexStart","expression","indexEnd","indexFormatter","indexLabel","layerSize","shapeMax","inputShape","_l","i","key","layerUnits","$set","activationOptions","activationSelected","kernelInitializerOptions","kernelInitializerSelected","biasInitializerOptions","biasInitializerSelected","staticStyle","input_ref","length","loading","onShowModal","ref","staticRenderFns","stringLiteralArray","a","Object","defineProperty","exports","utils_1","name","components","mixins","data","serializable","keys","fileChart","unshift","importData","computed","disabled","downloadActionDisabled","inputData","watch","next","pop","push","inputLoading","methods","global","tfvis","modelSummary","$refs","output","loadData","units","useBias","layer","activation","kernelInitializer","biasInitializer","add","setTimeout"],"mappings":"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","file":"js/chunk-bc53b242.c4b2fe14.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',[(_vm.component.title)?_c('h4',{staticClass:\"card-title\",domProps:{\"innerHTML\":_vm._s(_vm.component.title)}}):_vm._e(),(_vm.component.description)?_c('b-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.component.description)}}):_vm._e(),_c('b-form',{staticClass:\"form-toolbar-rtl\",attrs:{\"inline\":\"\"}},[_c('b-button',{attrs:{\"size\":\"badge\",\"disabled\":_vm.plugActionDisabled},on:{\"click\":_vm.plugAction}},[_c('b-icon',{staticClass:\"btn-icon\",attrs:{\"icon\":\"plug\"}})],1),_c('b-button',{attrs:{\"size\":\"badge\",\"disabled\":_vm.trashActionDisabled},on:{\"click\":_vm.trashAction}},[_c('b-icon',{staticClass:\"btn-icon\",attrs:{\"icon\":\"trash\"}})],1),_c('b-button',{attrs:{\"size\":\"badge\",\"disabled\":_vm.imageActionDisabled},on:{\"click\":function($event){return _vm.$bvModal.show('model-view-' + _vm.component.index)}}},[_c('b-icon',{staticClass:\"btn-icon\",attrs:{\"icon\":\"card-image\"}})],1),_c('b-button',{attrs:{\"size\":\"badge\"},on:{\"click\":_vm.onToggleToolbar}},[_c('b-icon',{attrs:{\"icon\":_vm.toggleIcon}})],1)],1),_c('b-collapse',{attrs:{\"visible\":_vm.toggleIcon === 'caret-up'}},[_c('b-form',{attrs:{\"inline\":\"\"}},[_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Input Index (Start)\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"0\",\"max\":_vm.indexMax,\"placeholder\":\"--\",\"disabled\":_vm.editActionDisabled},model:{value:(_vm.indexStart),callback:function ($$v) {_vm.indexStart=$$v},expression:\"indexStart\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Input Index (End)\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"0\",\"max\":_vm.indexMax,\"placeholder\":\"--\",\"disabled\":_vm.editActionDisabled},model:{value:(_vm.indexEnd),callback:function ($$v) {_vm.indexEnd=$$v},expression:\"indexEnd\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Label Index\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"-1\",\"max\":_vm.indexMax,\"formatter-fn\":_vm.indexFormatter,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.indexLabel),callback:function ($$v) {_vm.indexLabel=$$v},expression:\"indexLabel\"}})],1)]),_c('b-form',{attrs:{\"inline\":\"\"}},[_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Total Layers\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"2\",\"placeholder\":\"--\",\"disabled\":_vm.editActionDisabled},model:{value:(_vm.layerSize),callback:function ($$v) {_vm.layerSize=$$v},expression:\"layerSize\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Input Shape\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"1\",\"max\":_vm.shapeMax,\"placeholder\":\"--\",\"disabled\":_vm.editActionDisabled},model:{value:(_vm.inputShape),callback:function ($$v) {_vm.inputShape=$$v},expression:\"inputShape\"}})],1)]),_vm._l((_vm.layerSize),function(i){return [_c('b-form',{key:i,attrs:{\"inline\":\"\"}},[_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Layer (units)\")]),_c('b-form-spinbutton',{attrs:{\"min\":\"1\",\"placeholder\":\"--\",\"disabled\":_vm.editActionDisabled},model:{value:(_vm.layerUnits[i-1]),callback:function ($$v) {_vm.$set(_vm.layerUnits, i-1, $$v)},expression:\"layerUnits[i-1]\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_c('span',[_vm._v(\"Layer (activation)\")])]),_c('b-form-select',{attrs:{\"options\":_vm.activationOptions,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.activationSelected[i-1]),callback:function ($$v) {_vm.$set(_vm.activationSelected, i-1, $$v)},expression:\"activationSelected[i-1]\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Layer (kernel initializer)\")]),_c('b-form-select',{attrs:{\"options\":_vm.kernelInitializerOptions,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.kernelInitializerSelected[i-1]),callback:function ($$v) {_vm.$set(_vm.kernelInitializerSelected, i-1, $$v)},expression:\"kernelInitializerSelected[i-1]\"}})],1),_c('div',{staticClass:\"indexInput\"},[_c('label',[_vm._v(\"Layer (bias initializer)\")]),_c('b-form-select',{attrs:{\"options\":_vm.biasInitializerOptions,\"disabled\":_vm.editActionDisabled},model:{value:(_vm.biasInitializerSelected[i-1]),callback:function ($$v) {_vm.$set(_vm.biasInitializerSelected, i-1, $$v)},expression:\"biasInitializerSelected[i-1]\"}})],1)])]})],2),_c('div',{staticStyle:{\"margin-top\":\"8px\"}}),_c('ToolbarFooter',{attrs:{\"index\":_vm.component.index,\"input_ref\":_vm.component.input_ref,\"length\":_vm.length,\"loading\":_vm.loading},on:{\"update:index\":function($event){return _vm.$set(_vm.component, \"index\", $event)},\"update:length\":function($event){_vm.length=$event},\"update:loading\":function($event){_vm.loading=$event}}}),_c('b-modal',{attrs:{\"id\":'model-view-' + _vm.component.index,\"title\":\"TS Model View\",\"static\":true,\"hide-footer\":true,\"size\":\"lg\"},on:{\"show\":_vm.onShowModal}},[_c('div',{ref:\"draw\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TSModel.vue?vue&type=template&id=072d4d0d&scoped=true&\"\nimport script from \"./TSModel.vue?vue&type=script&lang=js&\"\nexport * from \"./TSModel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"072d4d0d\",\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Use of this source code is governed by an MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n * =============================================================================\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Infers a string union type from an array of string literals, and returns\n * the array as an array of that type.\n *\n * For instance:\n *\n * ```\n * const fruits = stringLiteralArray(['apple', 'banana', 'orange']);\n * type Fruit = typeof activationOptions[number];\n * ```\n *\n * now `Fruit` is the union type `'apple'|'banana'|'orange'`.\n *\n * https://stackoverflow.com/questions/52085454/typescript-define-a-union-type-from-an-array-of-strings/52085658\n */\nfunction stringLiteralArray(a) {\n    return a;\n}\nexports.stringLiteralArray = stringLiteralArray;\n//# sourceMappingURL=utils.js.map","\"use strict\";\n/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Use of this source code is governed by an MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n * =============================================================================\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\n/**\n * List of all known activation names.\n */\nexports.activationOptions = utils_1.stringLiteralArray([\n    'elu', 'hard_sigmoid', 'linear', 'relu', 'relu6', 'selu', 'sigmoid',\n    'softmax', 'softplus', 'softsign', 'tanh'\n]);\n//# sourceMappingURL=activation_config.js.map","<template>\n  <b-form-group>\n    <h4 v-if=\"component.title\" class=\"card-title\" v-html=\"component.title\"></h4>\n    <b-card-text v-if=\"component.description\" v-html=\"component.description\"></b-card-text>\n    <b-form class=\"form-toolbar-rtl\" inline>\n      <b-button size=\"badge\" @click=\"plugAction\" :disabled=\"plugActionDisabled\">\n        <b-icon icon=\"plug\" class=\"btn-icon\"></b-icon>\n      </b-button>\n      <b-button size=\"badge\" @click=\"trashAction\" :disabled=\"trashActionDisabled\">\n        <b-icon icon=\"trash\" class=\"btn-icon\"></b-icon>\n      </b-button>\n      <b-button\n        size=\"badge\"\n        @click=\"$bvModal.show('model-view-' + component.index)\"\n        :disabled=\"imageActionDisabled\"\n      >\n        <b-icon icon=\"card-image\" class=\"btn-icon\"></b-icon>\n      </b-button>\n      <b-button size=\"badge\" @click=\"onToggleToolbar\">\n        <b-icon :icon=\"toggleIcon\"></b-icon>\n      </b-button>\n    </b-form>\n\n    <b-collapse :visible=\"toggleIcon === 'caret-up'\">\n      <b-form inline>\n        <div class=\"indexInput\">\n          <label>Input Index (Start)</label>\n          <b-form-spinbutton\n            v-model=\"indexStart\"\n            min=\"0\"\n            :max=\"indexMax\"\n            placeholder=\"--\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Input Index (End)</label>\n          <b-form-spinbutton\n            v-model=\"indexEnd\"\n            min=\"0\"\n            :max=\"indexMax\"\n            placeholder=\"--\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Label Index</label>\n          <b-form-spinbutton\n            v-model=\"indexLabel\"\n            min=\"-1\"\n            :max=\"indexMax\"\n            :formatter-fn=\"indexFormatter\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n      </b-form>\n\n      <b-form inline>\n        <div class=\"indexInput\">\n          <label>Total Layers</label>\n          <b-form-spinbutton\n            v-model=\"layerSize\"\n            min=\"2\"\n            placeholder=\"--\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n\n        <div class=\"indexInput\">\n          <label>Input Shape</label>\n          <b-form-spinbutton\n            v-model=\"inputShape\"\n            min=\"1\"\n            :max=\"shapeMax\"\n            placeholder=\"--\"\n            :disabled=\"editActionDisabled\"\n          ></b-form-spinbutton>\n        </div>\n      </b-form>\n\n      <template v-for=\"i in layerSize\">\n        <b-form v-bind:key=\"i\" inline>\n          <div class=\"indexInput\">\n            <label>Layer (units)</label>\n            <b-form-spinbutton\n              v-model=\"layerUnits[i-1]\"\n              min=\"1\"\n              placeholder=\"--\"\n              :disabled=\"editActionDisabled\"\n            ></b-form-spinbutton>\n          </div>\n\n          <div class=\"indexInput\">\n            <label>\n              <span>Layer (activation)</span>\n            </label>\n            <b-form-select\n              v-model=\"activationSelected[i-1]\"\n              :options=\"activationOptions\"\n              :disabled=\"editActionDisabled\"\n            ></b-form-select>\n          </div>\n\n          <div class=\"indexInput\">\n            <label>Layer (kernel initializer)</label>\n            <b-form-select\n              v-model=\"kernelInitializerSelected[i-1]\"\n              :options=\"kernelInitializerOptions\"\n              :disabled=\"editActionDisabled\"\n            ></b-form-select>\n          </div>\n\n          <div class=\"indexInput\">\n            <label>Layer (bias initializer)</label>\n            <b-form-select\n              v-model=\"biasInitializerSelected[i-1]\"\n              :options=\"biasInitializerOptions\"\n              :disabled=\"editActionDisabled\"\n            ></b-form-select>\n          </div>\n        </b-form>\n      </template>\n    </b-collapse>\n    <div style=\"margin-top: 8px;\"></div>\n    <ToolbarFooter\n      :index.sync=\"component.index\"\n      :input_ref=\"component.input_ref\"\n      :length.sync=\"length\"\n      :loading.sync=\"loading\"\n    />\n\n    <b-modal\n      :id=\"'model-view-' + component.index\"\n      title=\"TS Model View\"\n      :static=\"true\"\n      :hide-footer=\"true\"\n      size=\"lg\"\n      @show=\"onShowModal\"\n    >\n      <div ref=\"draw\"></div>\n    </b-modal>\n  </b-form-group>\n</template>\n\n<script>\nimport ToolbarFooter from './ToolbarFooter.vue'\nimport { mixin } from './mixin'\nimport * as tf from '@tensorflow/tfjs'\n// import ModelView from 'tfjs-model-view'\nimport jquery from 'jquery'\nimport { activationOptions } from '@tensorflow/tfjs-layers/dist/keras_format/activation_config.js'\n\nexport default {\n  name: 'TSModel',\n  components: { ToolbarFooter },\n  mixins: [mixin],\n  data() {\n    let data = {\n      serializable: ['indexStart', 'indexEnd', 'indexLabel', 'layerSize', 'inputShape', 'layerUnits', 'activationSelected', 'kernelInitializerSelected', 'biasInitializerSelected'],\n      toggleIcon: 'caret-up',\n      indexStart: 0,\n      indexEnd: 0,\n      indexLabel: null,\n      layerSize: 0,\n      inputShape: 0,\n      layerUnits: [],\n      activationSelected: [],\n      activationOptions: activationOptions.map(x => x.replace(/hard_sigmoid/g, 'hardSigmoid')).sort(),\n      kernelInitializerSelected: [],\n      kernelInitializerOptions: Object.keys(tf.initializers).sort(),\n      biasInitializerSelected: [],\n      biasInitializerOptions: Object.keys(tf.initializers).sort(),\n      fileChart: false\n    }\n    data.activationOptions.unshift('')\n    data.kernelInitializerOptions.unshift('')\n    data.biasInitializerOptions.unshift('')\n    return this.importData(data)\n  },\n  computed: {\n    editActionDisabled() {\n      let disabled = 0\n      disabled |= this.indexMax === 0\n      return disabled === 1\n    },\n    downloadActionDisabled() {\n      return true\n    },\n    trashActionDisabled() {\n      let disabled = 0\n      disabled |= this.indexMax === 0\n      return disabled === 1\n    },\n    plugActionDisabled() {\n      let disabled = 0\n      disabled |= this.loading === true\n      disabled |= this.indexMax === 0\n      disabled |= this.shapeMax === 0\n      disabled |= this.indexEnd <= this.indexStart\n      return disabled === 1\n    },\n    imageActionDisabled() {\n      let disabled = 0\n      disabled |= this.fileChart === false\n      return disabled === 1\n    },\n    indexMax() {\n      let indexMax = 0\n      if (this.inputData && this.inputData.length > 0) {\n        indexMax = this.inputData[0].length - 1\n      }\n      return indexMax\n    },\n    shapeMax() {\n      let shapeMax = this.indexEnd - this.indexStart + 1\n      return shapeMax\n    }\n  },\n  watch: {\n    layerSize(next, prev) {\n      while (this.activationSelected.length > next) {\n        this.layerUnits.pop()\n        this.activationSelected.pop()\n        this.kernelInitializerSelected.pop()\n        this.biasInitializerSelected.pop()\n      }\n      while (this.activationSelected.length < next) {\n        this.layerUnits.push(3)\n        this.activationSelected.push('')\n        this.kernelInitializerSelected.push('')\n        this.biasInitializerSelected.push('')\n      }\n    },\n    shapeMax(next, prev) {\n      if (this.inputShape > next) {\n        this.inputShape = next\n      }\n    },\n    inputLoading(next, prev) {\n      if (next === false) {\n        this.trashAction()\n      }\n    }\n  },\n  methods: {\n    onToggleToolbar() {\n      if (this.toggleIcon === 'caret-up') {\n        this.toggleIcon = 'caret-down'\n      } else if (this.toggleIcon === 'caret-down') {\n        this.toggleIcon = 'caret-up'\n      }\n    },\n    onShowModal() {\n      global.tfvis.show.modelSummary(this.$refs['draw'], this.output.model)\n    },\n    trashAction(event) {\n      jquery(this.$refs['draw']).empty()\n      this.fileChart = false\n      this.output = null\n      this.loadData(this.data)\n      this.loadData(this.component.data)\n    },\n    plugAction(event) {\n      this.loading = true\n      let model = tf.sequential()\n      for (let i = 0; i < this.layerSize; i++) {\n        let layer = {\n          units: this.layerUnits[i],\n          useBias: false,\n          inputShape: this.inputShape\n        }\n        if (this.activationSelected[i] !== '') {\n          layer.activation = this.activationSelected[i]\n        }\n        if (this.kernelInitializerSelected[i] !== '') {\n          layer.kernelInitializer = this.kernelInitializerSelected[i]\n        }\n        if (this.biasInitializerSelected[i] !== '') {\n          layer.useBias = true\n          layer.biasInitializer = this.biasInitializerSelected[i]\n        }\n        if (i !== 0) {\n          delete layer.inputShape\n        }\n        model.add(tf.layers.dense(layer))\n      }\n      model.inputData = this.inputData\n      this.fileChart = true\n      this.output = {\n        model: model,\n        data: this.inputData,\n        indexLabel: this.indexLabel\n      }\n\n      /*\n      let modelView = new ModelView(model, {\n        height: 465,\n        width: 465,\n        appendImmediately: false,\n        renderer: 'd3',\n        radius: 10,\n        layerPadding: 100,\n        printStats: false,\n        renderLinks: true\n      })\n      jquery(this.$refs['draw']).empty()\n      this.$refs['draw'].appendChild(modelView.getDOMElement())\n      */\n\n      setTimeout(\n        function() {\n          this.loading = false\n        }.bind(this),\n        1\n      )\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":""}